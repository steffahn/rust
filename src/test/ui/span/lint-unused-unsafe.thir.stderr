error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:733:29
   |
LL |             let _ = async { unsafe {
   |                             ^^^^^^ unnecessary `unsafe` block
   |
note: the lint level is defined here
  --> $DIR/lint-unused-unsafe.rs:9:9
   |
LL | #![deny(unused_unsafe)]
   |         ^^^^^^^^^^^^^

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:740:33
   |
LL |             let _ = async { unsafe {
   |                             ------ because it's nested under this `unsafe` block
LL |                 let _ = async { unsf() };
LL |                 let _ = async { unsafe { let _ = async { unsf() }; }};
   |                                 ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:741:33
   |
LL |             let _ = async { unsafe {
   |                             ------ because it's nested under this `unsafe` block
...
LL |                 let _ = async { unsafe { let _ = async { unsf() }; }};
   |                                 ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:742:33
   |
LL |             let _ = async { unsafe {
   |                             ------ because it's nested under this `unsafe` block
...
LL |                 let _ = async { unsafe { let _ = async { unsf() }; }};
   |                                 ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:747:29
   |
LL |             let _ = async { unsafe {
   |                             ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:748:33
   |
LL |     async unsafe fn async_blocks() {
   |     ------------------------------ because it's nested under this `unsafe` fn
...
LL |                 let _ = async { unsafe { let _ = async { unsf() }; }};
   |                                 ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`
note: the lint level is defined here
  --> $DIR/lint-unused-unsafe.rs:745:17
   |
LL |         #[allow(unsafe_op_in_unsafe_fn)]
   |                 ^^^^^^^^^^^^^^^^^^^^^^

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:749:33
   |
LL |     async unsafe fn async_blocks() {
   |     ------------------------------ because it's nested under this `unsafe` fn
...
LL |                 let _ = async { unsafe { let _ = async { unsf() }; }};
   |                                 ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:750:33
   |
LL |     async unsafe fn async_blocks() {
   |     ------------------------------ because it's nested under this `unsafe` fn
...
LL |                 let _ = async { unsafe { let _ = async { unsf() }; }};
   |                                 ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:752:29
   |
LL |     async unsafe fn async_blocks() {
   |     ------------------------------ because it's nested under this `unsafe` fn
...
LL |             let _ = async { unsafe {
   |                             ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:754:33
   |
LL |     async unsafe fn async_blocks() {
   |     ------------------------------ because it's nested under this `unsafe` fn
...
LL |                 let _ = async { unsafe { let _ = async { unsf() }; }};
   |                                 ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:755:33
   |
LL |     async unsafe fn async_blocks() {
   |     ------------------------------ because it's nested under this `unsafe` fn
...
LL |                 let _ = async { unsafe { let _ = async { unsf() }; }};
   |                                 ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:756:33
   |
LL |     async unsafe fn async_blocks() {
   |     ------------------------------ because it's nested under this `unsafe` fn
...
LL |                 let _ = async { unsafe { let _ = async { unsf() }; }};
   |                                 ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:770:22
   |
LL |         let _x: [(); unsafe { unsafe { size() } }] = [];
   |                      ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:21:13
   |
LL | fn bad1() { unsafe {} }
   |             ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:22:13
   |
LL | fn bad2() { unsafe { bad1() } }
   |             ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:23:20
   |
LL | unsafe fn bad3() { unsafe {} }
   |                    ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:24:13
   |
LL | fn bad4() { unsafe { callback(||{}) } }
   |             ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:25:20
   |
LL | unsafe fn bad5() { unsafe { unsf() } }
   | ----------------   ^^^^^^ unnecessary `unsafe` block
   | |
   | because it's nested under this `unsafe` fn
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`
   = note: `#[allow(unsafe_op_in_unsafe_fn)]` on by default

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:27:5
   |
LL |     unsafe {
   |     ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:34:5
   |
LL |     unsafe {
   |     ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:35:9
   |
LL | unsafe fn bad7() {
   | ---------------- because it's nested under this `unsafe` fn
LL |     unsafe {
LL |         unsafe {
   |         ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:69:9
   |
LL |         unsafe {
   |         ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:78:9
   |
LL |         unsafe {
   |         ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:79:13
   |
LL |             unsafe {}
   |             ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:80:13
   |
LL |             unsafe {}
   |             ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:85:9
   |
LL |         unsafe {
   |         ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:95:13
   |
LL |         unsafe {
   |         ------ because it's nested under this `unsafe` block
LL |             unsf();
LL |             unsafe { unsf() }
   |             ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:96:13
   |
LL |         unsafe {
   |         ------ because it's nested under this `unsafe` block
...
LL |             unsafe { unsf() }
   |             ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:97:13
   |
LL |         unsafe {
   |         ------ because it's nested under this `unsafe` block
...
LL |             unsafe { unsf() }
   |             ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:107:17
   |
LL |         unsafe {
   |         ------ because it's nested under this `unsafe` block
...
LL |                 unsafe { unsf() }
   |                 ^^^^^^ unnecessary `unsafe` block
   |
note: the lint level is defined here
  --> $DIR/lint-unused-unsafe.rs:105:20
   |
LL |             #[deny(unused_unsafe)]
   |                    ^^^^^^^^^^^^^

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:108:17
   |
LL |         unsafe {
   |         ------ because it's nested under this `unsafe` block
...
LL |                 unsafe { unsf() }
   |                 ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:109:17
   |
LL |         unsafe {
   |         ------ because it's nested under this `unsafe` block
...
LL |                 unsafe { unsf() }
   |                 ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:119:9
   |
LL |         unsafe {
   |         ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:129:9
   |
LL |         unsafe {
   |         ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:130:13
   |
LL |             unsafe {}
   |             ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:131:13
   |
LL |             unsafe {}
   |             ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:137:9
   |
LL |         unsafe {
   |         ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:148:13
   |
LL |         unsafe {
   |         ------ because it's nested under this `unsafe` block
LL |             unsf();
LL |             unsafe { unsf() }
   |             ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:149:13
   |
LL |         unsafe {
   |         ------ because it's nested under this `unsafe` block
...
LL |             unsafe { unsf() }
   |             ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:150:13
   |
LL |         unsafe {
   |         ------ because it's nested under this `unsafe` block
...
LL |             unsafe { unsf() }
   |             ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:161:17
   |
LL |         unsafe {
   |         ------ because it's nested under this `unsafe` block
...
LL |                 unsafe { unsf() }
   |                 ^^^^^^ unnecessary `unsafe` block
   |
note: the lint level is defined here
  --> $DIR/lint-unused-unsafe.rs:159:20
   |
LL |             #[deny(unused_unsafe)]
   |                    ^^^^^^^^^^^^^

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:162:17
   |
LL |         unsafe {
   |         ------ because it's nested under this `unsafe` block
...
LL |                 unsafe { unsf() }
   |                 ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:163:17
   |
LL |         unsafe {
   |         ------ because it's nested under this `unsafe` block
...
LL |                 unsafe { unsf() }
   |                 ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:173:9
   |
LL |         unsafe {
   |         ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:183:9
   |
LL |         unsafe {
   |         ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:184:13
   |
LL |             unsafe {}
   |             ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:185:13
   |
LL |             unsafe {}
   |             ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:191:9
   |
LL |         unsafe {
   |         ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:192:13
   |
LL |     unsafe fn granularity_2() {
   |     ------------------------- because it's nested under this `unsafe` fn
LL |         unsafe {
LL |             unsafe { unsf() }
   |             ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`
note: the lint level is defined here
  --> $DIR/lint-unused-unsafe.rs:189:13
   |
LL |     #[allow(unsafe_op_in_unsafe_fn)]
   |             ^^^^^^^^^^^^^^^^^^^^^^

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:193:13
   |
LL |     unsafe fn granularity_2() {
   |     ------------------------- because it's nested under this `unsafe` fn
...
LL |             unsafe { unsf() }
   |             ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:194:13
   |
LL |     unsafe fn granularity_2() {
   |     ------------------------- because it's nested under this `unsafe` fn
...
LL |             unsafe { unsf() }
   |             ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:200:9
   |
LL |     unsafe fn top_level_used_2() {
   |     ---------------------------- because it's nested under this `unsafe` fn
LL |         unsafe {
   |         ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`
note: the lint level is defined here
  --> $DIR/lint-unused-unsafe.rs:198:13
   |
LL |     #[allow(unsafe_op_in_unsafe_fn)]
   |             ^^^^^^^^^^^^^^^^^^^^^^

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:202:13
   |
LL |     unsafe fn top_level_used_2() {
   |     ---------------------------- because it's nested under this `unsafe` fn
...
LL |             unsafe { unsf() }
   |             ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:203:13
   |
LL |     unsafe fn top_level_used_2() {
   |     ---------------------------- because it's nested under this `unsafe` fn
...
LL |             unsafe { unsf() }
   |             ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:204:13
   |
LL |     unsafe fn top_level_used_2() {
   |     ---------------------------- because it's nested under this `unsafe` fn
...
LL |             unsafe { unsf() }
   |             ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:215:17
   |
LL |         unsafe {
   |         ------ because it's nested under this `unsafe` block
...
LL |                 unsafe { unsf() }
   |                 ^^^^^^ unnecessary `unsafe` block
   |
note: the lint level is defined here
  --> $DIR/lint-unused-unsafe.rs:213:20
   |
LL |             #[deny(unused_unsafe)]
   |                    ^^^^^^^^^^^^^

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:216:17
   |
LL |         unsafe {
   |         ------ because it's nested under this `unsafe` block
...
LL |                 unsafe { unsf() }
   |                 ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:217:17
   |
LL |         unsafe {
   |         ------ because it's nested under this `unsafe` block
...
LL |                 unsafe { unsf() }
   |                 ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:237:9
   |
LL |         unsafe {
   |         ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:249:9
   |
LL |     unsafe fn granular_disallow_op_in_unsafe_fn_3() {
   |     ----------------------------------------------- because it's nested under this `unsafe` fn
LL |         unsafe {
   |         ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`
note: the lint level is defined here
  --> $DIR/lint-unused-unsafe.rs:247:13
   |
LL |     #[allow(unsafe_op_in_unsafe_fn)]
   |             ^^^^^^^^^^^^^^^^^^^^^^

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:263:13
   |
LL |         unsafe {
   |         ------ because it's nested under this `unsafe` block
LL |             unsafe {
   |             ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:281:20
   |
LL |         let _ = || unsafe {
   |                    ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:290:20
   |
LL |         let _ = || unsafe {
   |                    ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:291:24
   |
LL |             let _ = || unsafe {};
   |                        ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:292:24
   |
LL |             let _ = || unsafe {};
   |                        ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:297:20
   |
LL |         let _ = || unsafe {
   |                    ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:307:24
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
LL |             unsf();
LL |             let _ = || unsafe { unsf() };
   |                        ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:308:24
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
...
LL |             let _ = || unsafe { unsf() };
   |                        ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:309:24
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
...
LL |             let _ = || unsafe { unsf() };
   |                        ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:319:28
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
...
LL |                 let _ = || unsafe { unsf() };
   |                            ^^^^^^ unnecessary `unsafe` block
   |
note: the lint level is defined here
  --> $DIR/lint-unused-unsafe.rs:317:20
   |
LL |             #[deny(unused_unsafe)]
   |                    ^^^^^^^^^^^^^

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:320:28
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
...
LL |                 let _ = || unsafe { unsf() };
   |                            ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:321:28
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
...
LL |                 let _ = || unsafe { unsf() };
   |                            ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:331:20
   |
LL |         let _ = || unsafe {
   |                    ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:341:20
   |
LL |         let _ = || unsafe {
   |                    ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:342:24
   |
LL |             let _ = || unsafe {};
   |                        ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:343:24
   |
LL |             let _ = || unsafe {};
   |                        ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:349:20
   |
LL |         let _ = || unsafe {
   |                    ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:360:24
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
LL |             unsf();
LL |             let _ = || unsafe { unsf() };
   |                        ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:361:24
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
...
LL |             let _ = || unsafe { unsf() };
   |                        ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:362:24
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
...
LL |             let _ = || unsafe { unsf() };
   |                        ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:373:28
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
...
LL |                 let _ = || unsafe { unsf() };
   |                            ^^^^^^ unnecessary `unsafe` block
   |
note: the lint level is defined here
  --> $DIR/lint-unused-unsafe.rs:371:20
   |
LL |             #[deny(unused_unsafe)]
   |                    ^^^^^^^^^^^^^

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:374:28
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
...
LL |                 let _ = || unsafe { unsf() };
   |                            ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:375:28
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
...
LL |                 let _ = || unsafe { unsf() };
   |                            ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:385:20
   |
LL |         let _ = || unsafe {
   |                    ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:395:20
   |
LL |         let _ = || unsafe {
   |                    ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:396:24
   |
LL |             let _ = || unsafe {};
   |                        ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:397:24
   |
LL |             let _ = || unsafe {};
   |                        ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:403:20
   |
LL |         let _ = || unsafe {
   |                    ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:404:24
   |
LL |     unsafe fn granularity_2() {
   |     ------------------------- because it's nested under this `unsafe` fn
LL |         let _ = || unsafe {
LL |             let _ = || unsafe { unsf() };
   |                        ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`
note: the lint level is defined here
  --> $DIR/lint-unused-unsafe.rs:401:13
   |
LL |     #[allow(unsafe_op_in_unsafe_fn)]
   |             ^^^^^^^^^^^^^^^^^^^^^^

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:405:24
   |
LL |     unsafe fn granularity_2() {
   |     ------------------------- because it's nested under this `unsafe` fn
...
LL |             let _ = || unsafe { unsf() };
   |                        ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:406:24
   |
LL |     unsafe fn granularity_2() {
   |     ------------------------- because it's nested under this `unsafe` fn
...
LL |             let _ = || unsafe { unsf() };
   |                        ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:412:20
   |
LL |     unsafe fn top_level_used_2() {
   |     ---------------------------- because it's nested under this `unsafe` fn
LL |         let _ = || unsafe {
   |                    ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`
note: the lint level is defined here
  --> $DIR/lint-unused-unsafe.rs:410:13
   |
LL |     #[allow(unsafe_op_in_unsafe_fn)]
   |             ^^^^^^^^^^^^^^^^^^^^^^

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:414:24
   |
LL |     unsafe fn top_level_used_2() {
   |     ---------------------------- because it's nested under this `unsafe` fn
...
LL |             let _ = || unsafe { unsf() };
   |                        ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:415:24
   |
LL |     unsafe fn top_level_used_2() {
   |     ---------------------------- because it's nested under this `unsafe` fn
...
LL |             let _ = || unsafe { unsf() };
   |                        ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:416:24
   |
LL |     unsafe fn top_level_used_2() {
   |     ---------------------------- because it's nested under this `unsafe` fn
...
LL |             let _ = || unsafe { unsf() };
   |                        ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:427:28
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
...
LL |                 let _ = || unsafe { unsf() };
   |                            ^^^^^^ unnecessary `unsafe` block
   |
note: the lint level is defined here
  --> $DIR/lint-unused-unsafe.rs:425:20
   |
LL |             #[deny(unused_unsafe)]
   |                    ^^^^^^^^^^^^^

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:428:28
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
...
LL |                 let _ = || unsafe { unsf() };
   |                            ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:429:28
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
...
LL |                 let _ = || unsafe { unsf() };
   |                            ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:449:20
   |
LL |         let _ = || unsafe {
   |                    ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:461:20
   |
LL |     unsafe fn granular_disallow_op_in_unsafe_fn_3() {
   |     ----------------------------------------------- because it's nested under this `unsafe` fn
LL |         let _ = || unsafe {
   |                    ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`
note: the lint level is defined here
  --> $DIR/lint-unused-unsafe.rs:459:13
   |
LL |     #[allow(unsafe_op_in_unsafe_fn)]
   |             ^^^^^^^^^^^^^^^^^^^^^^

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:475:24
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
LL |             let _ = || unsafe {
   |                        ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:494:20
   |
LL |         let _ = || unsafe {
   |                    ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:503:20
   |
LL |         let _ = || unsafe {
   |                    ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:504:24
   |
LL |             let _ = || unsafe {};
   |                        ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:505:24
   |
LL |             let _ = || unsafe {};
   |                        ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:510:20
   |
LL |         let _ = || unsafe {
   |                    ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:520:24
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
LL |             let _ = || unsf();
LL |             let _ = || unsafe { let _ = || unsf(); };
   |                        ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:521:24
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
...
LL |             let _ = || unsafe { let _ = || unsf(); };
   |                        ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:522:24
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
...
LL |             let _ = || unsafe { let _ = || unsf(); };
   |                        ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:532:28
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
...
LL |                 let _ = || unsafe { let _ = || unsf(); };
   |                            ^^^^^^ unnecessary `unsafe` block
   |
note: the lint level is defined here
  --> $DIR/lint-unused-unsafe.rs:530:20
   |
LL |             #[deny(unused_unsafe)]
   |                    ^^^^^^^^^^^^^

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:533:28
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
...
LL |                 let _ = || unsafe { let _ = || unsf(); };
   |                            ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:534:28
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
...
LL |                 let _ = || unsafe { let _ = || unsf(); };
   |                            ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:544:20
   |
LL |         let _ = || unsafe {
   |                    ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:554:20
   |
LL |         let _ = || unsafe {
   |                    ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:555:24
   |
LL |             let _ = || unsafe {};
   |                        ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:556:24
   |
LL |             let _ = || unsafe {};
   |                        ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:562:20
   |
LL |         let _ = || unsafe {
   |                    ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:573:24
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
LL |             let _ = || unsf();
LL |             let _ = || unsafe { let _ = || unsf(); };
   |                        ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:574:24
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
...
LL |             let _ = || unsafe { let _ = || unsf(); };
   |                        ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:575:24
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
...
LL |             let _ = || unsafe { let _ = || unsf(); };
   |                        ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:586:28
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
...
LL |                 let _ = || unsafe { let _ = || unsf(); };
   |                            ^^^^^^ unnecessary `unsafe` block
   |
note: the lint level is defined here
  --> $DIR/lint-unused-unsafe.rs:584:20
   |
LL |             #[deny(unused_unsafe)]
   |                    ^^^^^^^^^^^^^

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:587:28
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
...
LL |                 let _ = || unsafe { let _ = || unsf(); };
   |                            ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:588:28
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
...
LL |                 let _ = || unsafe { let _ = || unsf(); };
   |                            ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:598:20
   |
LL |         let _ = || unsafe {
   |                    ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:608:20
   |
LL |         let _ = || unsafe {
   |                    ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:609:24
   |
LL |             let _ = || unsafe {};
   |                        ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:610:24
   |
LL |             let _ = || unsafe {};
   |                        ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:616:20
   |
LL |         let _ = || unsafe {
   |                    ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:617:24
   |
LL |     unsafe fn granularity_2() {
   |     ------------------------- because it's nested under this `unsafe` fn
LL |         let _ = || unsafe {
LL |             let _ = || unsafe { let _ = || unsf(); };
   |                        ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`
note: the lint level is defined here
  --> $DIR/lint-unused-unsafe.rs:614:13
   |
LL |     #[allow(unsafe_op_in_unsafe_fn)]
   |             ^^^^^^^^^^^^^^^^^^^^^^

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:618:24
   |
LL |     unsafe fn granularity_2() {
   |     ------------------------- because it's nested under this `unsafe` fn
...
LL |             let _ = || unsafe { let _ = || unsf(); };
   |                        ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:619:24
   |
LL |     unsafe fn granularity_2() {
   |     ------------------------- because it's nested under this `unsafe` fn
...
LL |             let _ = || unsafe { let _ = || unsf(); };
   |                        ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:625:20
   |
LL |     unsafe fn top_level_used_2() {
   |     ---------------------------- because it's nested under this `unsafe` fn
LL |         let _ = || unsafe {
   |                    ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`
note: the lint level is defined here
  --> $DIR/lint-unused-unsafe.rs:623:13
   |
LL |     #[allow(unsafe_op_in_unsafe_fn)]
   |             ^^^^^^^^^^^^^^^^^^^^^^

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:627:24
   |
LL |     unsafe fn top_level_used_2() {
   |     ---------------------------- because it's nested under this `unsafe` fn
...
LL |             let _ = || unsafe { let _ = || unsf(); };
   |                        ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:628:24
   |
LL |     unsafe fn top_level_used_2() {
   |     ---------------------------- because it's nested under this `unsafe` fn
...
LL |             let _ = || unsafe { let _ = || unsf(); };
   |                        ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:629:24
   |
LL |     unsafe fn top_level_used_2() {
   |     ---------------------------- because it's nested under this `unsafe` fn
...
LL |             let _ = || unsafe { let _ = || unsf(); };
   |                        ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:640:28
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
...
LL |                 let _ = || unsafe { let _ = || unsf(); };
   |                            ^^^^^^ unnecessary `unsafe` block
   |
note: the lint level is defined here
  --> $DIR/lint-unused-unsafe.rs:638:20
   |
LL |             #[deny(unused_unsafe)]
   |                    ^^^^^^^^^^^^^

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:641:28
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
...
LL |                 let _ = || unsafe { let _ = || unsf(); };
   |                            ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:642:28
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
...
LL |                 let _ = || unsafe { let _ = || unsf(); };
   |                            ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:662:20
   |
LL |         let _ = || unsafe {
   |                    ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:674:20
   |
LL |     unsafe fn granular_disallow_op_in_unsafe_fn_3() {
   |     ----------------------------------------------- because it's nested under this `unsafe` fn
LL |         let _ = || unsafe {
   |                    ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`
note: the lint level is defined here
  --> $DIR/lint-unused-unsafe.rs:672:13
   |
LL |     #[allow(unsafe_op_in_unsafe_fn)]
   |             ^^^^^^^^^^^^^^^^^^^^^^

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:688:24
   |
LL |         let _ = || unsafe {
   |                    ------ because it's nested under this `unsafe` block
LL |             let _ = || unsafe {
   |                        ^^^^^^ unnecessary `unsafe` block

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:718:9
   |
LL |     unsafe fn multiple_unsafe_op_in_unsafe_fn_allows() {
   |     -------------------------------------------------- because it's nested under this `unsafe` fn
LL |         unsafe {
   |         ^^^^^^ unnecessary `unsafe` block
   |
   = note: this `unsafe` block does contain unsafe operations, but those are already allowed in an `unsafe fn`
note: the lint level is defined here
  --> $DIR/lint-unused-unsafe.rs:719:21
   |
LL |             #[allow(unsafe_op_in_unsafe_fn)]
   |                     ^^^^^^^^^^^^^^^^^^^^^^

error: unnecessary `unsafe` block
  --> $DIR/lint-unused-unsafe.rs:766:22
   |
LL |         let _x: [(); unsafe { 0 }] = [];
   |                      ^^^^^^ unnecessary `unsafe` block

error: aborting due to 143 previous errors

